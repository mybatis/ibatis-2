<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>SqlMapClient (mybatis2 2.5.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.ibatis.sqlmap.client, interface: SqlMapClient">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SqlMapClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.ibatis.sqlmap.client</a></div>
<h1 title="Interface SqlMapClient" class="title">Interface SqlMapClient</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="SqlMapExecutor.html" title="interface in com.ibatis.sqlmap.client">SqlMapExecutor</a></code>, <code><a href="SqlMapTransactionManager.html" title="interface in com.ibatis.sqlmap.client">SqlMapTransactionManager</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="../engine/impl/ExtendedSqlMapClient.html" title="interface in com.ibatis.sqlmap.engine.impl">ExtendedSqlMapClient</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../engine/impl/SqlMapClientImpl.html" title="class in com.ibatis.sqlmap.engine.impl">SqlMapClientImpl</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">SqlMapClient</span><span class="extends-implements">
extends <a href="SqlMapExecutor.html" title="interface in com.ibatis.sqlmap.client">SqlMapExecutor</a>, <a href="SqlMapTransactionManager.html" title="interface in com.ibatis.sqlmap.client">SqlMapTransactionManager</a></span></div>
<div class="block">A thread safe client for working with your SQL Maps (Start Here). This interface inherits transaction control and
 execution methods from the SqlMapTransactionManager and SqlMapExecutor interfaces.
 <p>
 The SqlMapClient is the central class for working with SQL Maps. This class will allow you to run mapped statements
 (select, insert, update, delete etc.), and also demarcate transactions and work with batches. Once you have an
 SqlMapClient instance, everything you need to work with SQL Maps is easily available.
 <p>
 The SqlMapClient can either be worked with directly as a multi-threaded client (internal session management), or you
 can get a single threaded session and work with that. There may be a slight performance increase if you explicitly
 get a session (using the openSession() method), as it saves the SqlMapClient from having to manage threads contexts.
 But for most cases it won't make much of a difference, so choose whichever paradigm suits your needs or preferences.
 <p>
 An SqlMapClient instance can be safely made <i>static</i> or applied as a <i>Singleton</i>. Generally it's a good
 idea to make a simple configuration class that will configure the instance (using SqlMapClientBuilder) and provide
 access to it.
 <p>
 <b>The following example will demonstrate the use of SqlMapClient.</b>

 <pre>
 <i style="color:green">
 //
 // autocommit simple query --these are just examples...not patterns
 //
 </i>
 Employee emp = (Employee) <b>sqlMap.queryForObject("getEmployee", Integer.valueOf(1))</b>;
 <i style="color:green">
 //
 // transaction --these are just examples...not patterns
 //
 </i>
 try {
   <b>sqlMap.startTransaction()</b>
   Employee emp2 = new Employee();
   // ...set emp2 data
   Integer generatedKey = (Integer) <b>sqlMap.insert ("insertEmployee", emp2)</b>;
   emp2.setFavouriteColour ("green");
   <b>sqlMap.update("updateEmployee", emp2)</b>;
   <b>sqlMap.commitTransaction()</b>;
 } finally {
   <b>sqlMap.endTransaction()</b>;
 }
 <i style="color:green">
 //
 // session --these are just examples...not patterns
 //
 </i>
 <code>
 try {
   <b>SqlMapSession session = sqlMap.openSession()</b>
   <b>session.startTransaction()</b>
   Employee emp2 = new Employee();
   // ...set emp2 data
   Integer generatedKey = (Integer) <b>session.insert ("insertEmployee", emp2)</b>;
   emp2.setFavouriteColour ("green");
   <b>session.update("updateEmployee", emp2)</b>;
   <b>session.commitTransaction()</b>;
 } finally {
   try {
     <b>session.endTransaction()</b>;
   } finally {
     <b>session.close()</b>;
   }
   // Generally your session scope would be in a wider context and therefore the
   // ugly nested finally block above would not be there.  Realize that sessions
   // MUST be closed if explicitly opened (via openSession()).
 }
 </code>
 <i style="color:green">
 //
 // batch --these are just examples...not patterns
 //
 </i>
 <code>
 try {
   <b>sqlMap.startTransaction()</b>
   List list = (Employee) <b>sqlMap.queryForList("getFiredEmployees", null)</b>;
   <b>sqlMap.startBatch ()</b>;
   for (int i=0, n=list.size(); i &lt; n; i++) {
     <b>sqlMap.delete ("deleteEmployee", list.get(i))</b>;
   }
   <b>sqlMap.executeBatch()</b>;
   <b>sqlMap.commitTransaction()</b>;
 } finally {
   <b>sqlMap.endTransaction()</b>;
 }
 </code>
 </pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="SqlMapClientBuilder.html" title="class in com.ibatis.sqlmap.client"><code>SqlMapClientBuilder</code></a></li>
<li><a href="SqlMapSession.html" title="interface in com.ibatis.sqlmap.client"><code>SqlMapSession</code></a></li>
<li><a href="SqlMapExecutor.html" title="interface in com.ibatis.sqlmap.client"><code>SqlMapExecutor</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#flushDataCache()" class="member-name-link">flushDataCache</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Flushes all data caches.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#flushDataCache(java.lang.String)" class="member-name-link">flushDataCache</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cacheId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Flushes the data cache that matches the cache model ID provided.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="SqlMapSession.html" title="interface in com.ibatis.sqlmap.client">SqlMapSession</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6"><code><a href="#getSession()" class="member-name-link">getSession</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use openSession() instead.</div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="SqlMapSession.html" title="interface in com.ibatis.sqlmap.client">SqlMapSession</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#openSession()" class="member-name-link">openSession</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a single threaded SqlMapSession implementation for use by one user.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="SqlMapSession.html" title="interface in com.ibatis.sqlmap.client">SqlMapSession</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#openSession(java.sql.Connection)" class="member-name-link">openSession</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a>&nbsp;conn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a single threaded SqlMapSession implementation for use by one user.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.ibatis.sqlmap.client.SqlMapExecutor">Methods inherited from interface&nbsp;com.ibatis.sqlmap.client.<a href="SqlMapExecutor.html" title="interface in com.ibatis.sqlmap.client">SqlMapExecutor</a></h3>
<code><a href="SqlMapExecutor.html#delete(java.lang.String)">delete</a>, <a href="SqlMapExecutor.html#delete(java.lang.String,java.lang.Object)">delete</a>, <a href="SqlMapExecutor.html#executeBatch()">executeBatch</a>, <a href="SqlMapExecutor.html#executeBatchDetailed()">executeBatchDetailed</a>, <a href="SqlMapExecutor.html#insert(java.lang.String)">insert</a>, <a href="SqlMapExecutor.html#insert(java.lang.String,java.lang.Object)">insert</a>, <a href="SqlMapExecutor.html#queryForList(java.lang.String)">queryForList</a>, <a href="SqlMapExecutor.html#queryForList(java.lang.String,int,int)">queryForList</a>, <a href="SqlMapExecutor.html#queryForList(java.lang.String,java.lang.Object)">queryForList</a>, <a href="SqlMapExecutor.html#queryForList(java.lang.String,java.lang.Object,int,int)">queryForList</a>, <a href="SqlMapExecutor.html#queryForMap(java.lang.String,java.lang.Object,java.lang.String)">queryForMap</a>, <a href="SqlMapExecutor.html#queryForMap(java.lang.String,java.lang.Object,java.lang.String,java.lang.String)">queryForMap</a>, <a href="SqlMapExecutor.html#queryForObject(java.lang.String)">queryForObject</a>, <a href="SqlMapExecutor.html#queryForObject(java.lang.String,java.lang.Object)">queryForObject</a>, <a href="SqlMapExecutor.html#queryForObject(java.lang.String,java.lang.Object,java.lang.Object)">queryForObject</a>, <a href="SqlMapExecutor.html#queryForPaginatedList(java.lang.String,int)">queryForPaginatedList</a>, <a href="SqlMapExecutor.html#queryForPaginatedList(java.lang.String,java.lang.Object,int)">queryForPaginatedList</a>, <a href="SqlMapExecutor.html#queryWithRowHandler(java.lang.String,com.ibatis.sqlmap.client.event.RowHandler)">queryWithRowHandler</a>, <a href="SqlMapExecutor.html#queryWithRowHandler(java.lang.String,java.lang.Object,com.ibatis.sqlmap.client.event.RowHandler)">queryWithRowHandler</a>, <a href="SqlMapExecutor.html#startBatch()">startBatch</a>, <a href="SqlMapExecutor.html#update(java.lang.String)">update</a>, <a href="SqlMapExecutor.html#update(java.lang.String,java.lang.Object)">update</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.ibatis.sqlmap.client.SqlMapTransactionManager">Methods inherited from interface&nbsp;com.ibatis.sqlmap.client.<a href="SqlMapTransactionManager.html" title="interface in com.ibatis.sqlmap.client">SqlMapTransactionManager</a></h3>
<code><a href="SqlMapTransactionManager.html#commitTransaction()">commitTransaction</a>, <a href="SqlMapTransactionManager.html#endTransaction()">endTransaction</a>, <a href="SqlMapTransactionManager.html#getCurrentConnection()">getCurrentConnection</a>, <a href="SqlMapTransactionManager.html#getDataSource()">getDataSource</a>, <a href="SqlMapTransactionManager.html#getUserConnection()">getUserConnection</a>, <a href="SqlMapTransactionManager.html#setUserConnection(java.sql.Connection)">setUserConnection</a>, <a href="SqlMapTransactionManager.html#startTransaction()">startTransaction</a>, <a href="SqlMapTransactionManager.html#startTransaction(int)">startTransaction</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="openSession()">
<h3>openSession</h3>
<div class="member-signature"><span class="return-type"><a href="SqlMapSession.html" title="interface in com.ibatis.sqlmap.client">SqlMapSession</a></span>&nbsp;<span class="element-name">openSession</span>()</div>
<div class="block">Returns a single threaded SqlMapSession implementation for use by one user. Remember though, that SqlMapClient
 itself is a thread safe SqlMapSession implementation, so you can also just work directly with it. If you do get a
 session explicitly using this method <b>be sure to close it!</b> You can close a session using the
 sqlMapSession.close() method.
 <p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>An SqlMapSession instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openSession(java.sql.Connection)">
<h3>openSession</h3>
<div class="member-signature"><span class="return-type"><a href="SqlMapSession.html" title="interface in com.ibatis.sqlmap.client">SqlMapSession</a></span>&nbsp;<span class="element-name">openSession</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a>&nbsp;conn)</span></div>
<div class="block">Returns a single threaded SqlMapSession implementation for use by one user. Remember though, that SqlMapClient
 itself is a thread safe SqlMapSession implementation, so you can also just work directly with it. If you do get a
 session explicitly using this method <b>be sure to close it!</b> You can close a session using the
 SqlMapSession.close() method.
 <p>
 This particular implementation takes a user provided connection as a parameter. This connection will be used for
 executing statements, and therefore overrides any configured datasources. Using this approach allows the developer
 to easily use an externally supplied connection for executing statements.
 <p>
 <b>Important:</b> Using a user supplied connection basically sidesteps the datasource so you are responsible for
 appropriately handling your connection lifecycle (i.e. closing). Here's a (very) simple example (throws
 SQLException):

 <pre>
 try {
   Connection connection = dataSource.getConnection();
   SqlMapSession session = sqlMap.openSession(connection);
   // do work
   connection.commit();
 } catch (SQLException e) {
   try {
     if (connection != null)
       commit.rollback();
   } catch (SQLException ignored) {
     // generally ignored
   }
   throw e; // rethrow the exception
 } finally {
   try {
     if (connection != null)
       connection.close();
   } catch (SQLException ignored) {
     // generally ignored
   }
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>conn</code> - - the connection to use for the session</dd>
<dt>Returns:</dt>
<dd>An SqlMapSession instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSession()">
<h3>getSession</h3>
<div class="member-signature"><span class="return-type"><a href="SqlMapSession.html" title="interface in com.ibatis.sqlmap.client">SqlMapSession</a></span>&nbsp;<span class="element-name">getSession</span>()</div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">Use openSession() instead. THIS METHOD WILL BE REMOVED BEFORE FINAL RELEASE.</div>
</div>
<div class="block">TODO : Deprecated and will be removed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A session (DEPRECATED)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="flushDataCache()">
<h3>flushDataCache</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">flushDataCache</span>()</div>
<div class="block">Flushes all data caches.</div>
</section>
</li>
<li>
<section class="detail" id="flushDataCache(java.lang.String)">
<h3>flushDataCache</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">flushDataCache</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cacheId)</span></div>
<div class="block">Flushes the data cache that matches the cache model ID provided. cacheId should include the namespace, even when
 useStatementNamespaces="false".</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cacheId</code> - The cache model to flush</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2004&#x2013;2022 <a href="https://www.mybatis.org/">MyBatis.org</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
